# Template file for 'rbw'
pkgname=rbw
version=1.3.0
revision=1
build_style="cargo"
build_helper="qemu"
depends="pinentry"
short_desc="Unofficial command line client for Bitwarden"
maintainer="Omar Zeghouani <omarzeghouanii@gmail.com>"
license="MIT"
homepage="https://git.tozt.net/rbw"
changelog="https://git.tozt.net/rbw/plain/CHANGELOG.md"
distfiles="https://git.tozt.net/rbw/snapshot/rbw-${version}.tar.gz"
checksum=7255e322b8c6bd6ee9da00f4c54211e94a132abec15b9f51b8351af31a4744ac

post_build() {
	for shell in bash fish zsh; do
		vtargetrun target/${RUST_TARGET}/release/rbw gen-completions $shell > rbw.$shell
	done
}

post_install() {
	vcompletion rbw.bash bash
	vcompletion rbw.fish fish
	vcompletion rbw.zsh  zsh

	vlicense LICENSE
}
